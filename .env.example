# =============================================================================
# PDR AI v2 - Environment Configuration
# =============================================================================
# This file shows all available configuration options organized by deployment tier.
# Copy this to .env and fill in your values.
#
# Quick Start: You only need TIER 1 keys to get started!
# =============================================================================

# =============================================================================
# TIER 1: CORE DEPLOYMENT (Required - 3 API Keys)
# =============================================================================
# Cost: ~$10-30/month
# Features: Document upload, AI chat, RAG search, viewer, dashboards
#
# This is the minimum configuration to run PDR AI v2.
# =============================================================================

# Database (PostgreSQL with pgvector extension)
# Local: postgresql://postgres:password@localhost:5432/pdr_ai_v2
# Neon (free tier): postgresql://user:pass@ep-xxx.us-east-2.aws.neon.tech/dbname
DATABASE_URL="postgresql://postgres:password@localhost:5432/pdr_ai_v2"

# Clerk Authentication (https://clerk.com/)
# Free tier: 500 monthly active users
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_..."
CLERK_SECRET_KEY="sk_test_..."

# OpenAI API (https://platform.openai.com/)
# Used for: Embeddings (text-embedding-3-large), Chat (GPT-4)
# Cost: ~$0.002 per 1K embedding tokens, ~$0.01-0.03 per 1K chat tokens
OPENAI_API_KEY="sk-..."

# UploadThing File Storage (https://uploadthing.com/)
# Free tier: 100GB storage/month
UPLOADTHING_SECRET="sk_live_..."
UPLOADTHING_APP_ID="your_app_id"

# Environment Mode
NODE_ENV="development"

# =============================================================================
# CLERK CONFIGURATION (Fixed - No changes needed)
# =============================================================================
# These URLs control redirect behavior after authentication
# Default values work for most use cases - change only if you need custom redirects
NEXT_PUBLIC_CLERK_SIGN_IN_FORCE_REDIRECT_URL="/signup/loading"
NEXT_PUBLIC_CLERK_SIGN_UP_FORCE_REDIRECT_URL="/signup/loading"
NEXT_PUBLIC_CLERK_SIGN_OUT_FORCE_REDIRECT_URL="/"

# =============================================================================
# TIER 2: ENHANCED DEPLOYMENT (Optional - Add 2-3 Keys)
# =============================================================================
# Cost: +$10-30/month
# Features: Core + Premium search, OCR processing, Voice chat
#
# Uncomment and add these keys to enable enhanced features.
# Each feature gracefully degrades if key is not provided.
# =============================================================================

# --- Web Search (Optional) ---
# Tavily AI Search (https://tavily.com/)
# Fallback: DuckDuckGo (free, no API key needed)
# Cost: ~$0.05 per search
# TAVILY_API_KEY="tvly-..."

# --- OCR Processing (Optional) ---
# Datalab Marker API (https://www.datalab.to/)
# Enables: OCR checkbox in document upload UI
# Fallback: Text-only PDF processing (no OCR)
# Cost: ~$0.30-2 per page
# DATALAB_API_KEY="your_datalab_key"

# Azure Document Intelligence (Alternative OCR provider)
# Cost: ~$0.50-2 per page
# AZURE_DOC_INTELLIGENCE_ENDPOINT="https://your-resource.cognitiveservices.azure.com/"
# AZURE_DOC_INTELLIGENCE_KEY="your_azure_key"

# Landing.AI (OCR for complex documents with handwriting)
# Cost: ~$0.30 per page
# LANDING_AI_API_KEY="your_landing_ai_key"

# --- Voice Features (Optional) ---
# ElevenLabs Text-to-Speech (https://elevenlabs.io/)
# Enables: Voice chat in Study Agent
# Fallback: Browser Web Speech API
# Cost: ~$0.30 per 1K characters
# ELEVENLABS_API_KEY="your_elevenlabs_key"
# ELEVENLABS_VOICE_ID="L1QogKoobNwLy4IaMsyA"  # Default voice (Rachel)

# =============================================================================
# TIER 3: FULL DEPLOYMENT (Optional - Add 2+ Keys)
# =============================================================================
# Cost: +$20-100/month
# Features: Enhanced + Multi-model AI (Claude, Gemini)
#
# Add these to use alternative AI models beyond OpenAI.
# =============================================================================

# Anthropic Claude (https://console.anthropic.com/)
# Enables: Claude models in chat and analysis
# Cost: ~$0.015-0.075 per 1K tokens (varies by model)
# ANTHROPIC_API_KEY="sk-ant-..."

# Google AI / Gemini (https://makersuite.google.com/)
# Enables: Gemini models in chat and analysis
# Cost: Free tier available, then ~$0.0001-0.0005 per 1K tokens
# GOOGLE_AI_API_KEY="..."

# =============================================================================
# MONITORING & DEBUGGING (Optional)
# =============================================================================
# LangSmith Tracing (https://smith.langchain.com/)
# Used for: Development debugging, performance monitoring
# Cost: Free tier available
# LANGCHAIN_TRACING_V2="true"
# LANGCHAIN_API_KEY="lsv2_..."
# LANGCHAIN_PROJECT="pdr-ai-v2"  # Optional project name

# =============================================================================
# ADVANCED CONFIGURATION (Fixed - No changes needed)
# =============================================================================
# Inngest Event Key (for background job processing)
# This is a development key - you can use this value as-is
INNGEST_EVENT_KEY="3MA2nBGvZYDGpJPD8Yqykqc_GYt1qVe99uKnBzKthLbFAbZTrwuaa0aogww1LrYP8bAsAu-SXf4Ro5ObGbOrnw"

# Skip environment validation (useful for Docker builds)
# SKIP_ENV_VALIDATION="false"

# =============================================================================
# COST SUMMARY
# =============================================================================
# Tier 1 (Core):        $10-30/month  | 3 required keys
# Tier 2 (Enhanced):    $20-60/month  | Core + 2-3 optional keys
# Tier 3 (Full):        $40-160/month | Enhanced + 2+ optional keys
#
# Free tier options:
# - Clerk: 500 MAU free
# - UploadThing: 100GB/month free
# - Neon Database: 0.5GB storage free
# - Google Gemini: Generous free tier
# =============================================================================

# =============================================================================
# GETTING STARTED
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Get 3 API keys (OpenAI, Clerk, UploadThing)
# 3. Fill in TIER 1 values above
# 4. Start database: ./start-database.sh
# 5. Run migrations: pnpm db:push
# 6. Start dev server: pnpm dev
#
# See README.md for detailed setup instructions.
# =============================================================================
